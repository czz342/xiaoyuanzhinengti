<view class="report-detail-page"><view class="{{['status-bar',levelClass]}}"><view class="status-content"><view class="status-left"><text class="status-label">状态评估</text><text class="status-value">{{reportData.level}}</text></view><view class="status-right"><text class="score-label">总分</text><text class="score-value">{{reportData.score}}</text></view></view></view><view class="report-header"><text class="report-title">{{reportData.title}}</text><text class="report-date">{{reportData.date}}</text><view class="report-share"><button data-event-opts="{{[['tap',[['shareReport',['$event']]]]]}}" class="share-btn" bindtap="__e"><image src="/static/images/share.png" mode="aspectFit"></image><text>分享报告</text></button><button data-event-opts="{{[['tap',[['downloadReport',['$event']]]]]}}" class="download-btn" bindtap="__e"><image src="/static/images/download.png" mode="aspectFit"></image><text>保存</text></button></view></view><view class="report-content"><view class="report-section summary-section"><view class="section-header"><image class="section-icon" src="/static/images/summary.png" mode="aspectFit"></image><text class="section-title">评估总结</text></view><view class="section-content"><text class="summary-text">{{reportData.summary}}</text><view class="score-chart"><view class="chart-container"><canvas class="score-canvas" canvas-id="scoreChart"></canvas></view><view class="chart-legend"><block wx:for="{{$root.l0}}" wx:for-item="level" wx:for-index="index" wx:key="index"><view class="legend-item"><view class="legend-color" style="{{'background-color:'+(level.m0)+';'}}"></view><text class="legend-text">{{level.$orig.name+" ("+level.$orig.range+")"}}</text></view></block></view></view></view></view><view class="report-section recommendations-section"><view class="section-header"><image class="section-icon" src="/static/images/recommendations.png" mode="aspectFit"></image><text class="section-title">改善建议</text></view><view class="section-content"><view class="recommendation-list"><block wx:for="{{reportData.recommendations}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="recommendation-item"><view class="recommendation-bullet">{{index+1}}</view><text class="recommendation-text">{{item}}</text></view></block></view></view></view><view class="report-section analysis-section"><view class="section-header"><image class="section-icon" src="/static/images/analysis.png" mode="aspectFit"></image><text class="section-title">详细分析</text></view><view class="section-content"><view class="analysis-content"><text class="analysis-text">{{$root.m1}}</text></view></view></view><view class="report-section resources-section"><view class="section-header"><image class="section-icon" src="/static/images/resources.png" mode="aspectFit"></image><text class="section-title">在线资源</text></view><view class="section-content"><view class="resource-list"><block wx:for="{{relevantResources}}" wx:for-item="resource" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['openResource',['$0'],[[['relevantResources','',index]]]]]]]}}" class="resource-item" bindtap="__e"><image class="resource-icon" src="{{resource.icon}}" mode="aspectFit"></image><view class="resource-info"><text class="resource-title">{{resource.title}}</text><text class="resource-desc">{{resource.description}}</text></view><image class="arrow-icon" src="/static/images/arrow-right.png" mode="aspectFit"></image></view></block></view></view></view></view><view class="action-area"><button data-event-opts="{{[['tap',[['bookConsultation',['$event']]]]]}}" class="action-btn consultation" bindtap="__e"><text>预约心理咨询</text></button><button data-event-opts="{{[['tap',[['retakeAssessment',['$event']]]]]}}" class="action-btn retake" bindtap="__e"><text>重新测评</text></button></view></view>