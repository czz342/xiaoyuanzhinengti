<view class="health-page"><view class="health-banner"><image class="banner-image" src="/static/images/health-banner.png" mode="aspectFill"></image><view class="banner-content"><text class="banner-title">校园健康中心</text><text class="banner-subtitle">为您的身心健康保驾护航</text></view></view><view class="quick-services"><view data-event-opts="{{[['tap',[['navigateTo',['medical']]]]]}}" class="service-item" bindtap="__e"><view class="service-icon medical"><image src="/static/images/medical.png" mode="aspectFit"></image></view><text class="service-text">校医预约</text></view><view data-event-opts="{{[['tap',[['navigateTo',['psychology']]]]]}}" class="service-item" bindtap="__e"><view class="service-icon psychology"><image src="/static/images/psychology.png" mode="aspectFit"></image></view><text class="service-text">心理咨询</text></view><view data-event-opts="{{[['tap',[['navigateTo',['examination']]]]]}}" class="service-item" bindtap="__e"><view class="service-icon examination"><image src="/static/images/examination.png" mode="aspectFit"></image></view><text class="service-text">体检管理</text></view><view data-event-opts="{{[['tap',[['navigateTo',['emergency']]]]]}}" class="service-item" bindtap="__e"><view class="service-icon emergency"><image src="/static/images/emergency.png" mode="aspectFit"></image></view><text class="service-text">紧急求助</text></view></view><view class="health-panel"><view class="panel-header"><text class="panel-title">健康数据</text><view data-event-opts="{{[['tap',[['viewAllHealthData',['$event']]]]]}}" class="panel-more" bindtap="__e"><text>查看全部</text><image src="/static/images/arrow-right.png" mode="aspectFit"></image></view></view><view class="data-cards"><view class="data-card steps"><view class="card-value"><text class="value-num">8,253</text><text class="value-unit">步</text></view><view class="card-label"><image src="/static/images/steps.png" mode="aspectFit"></image><text>今日步数</text></view><view class="card-progress"><progress percent="{{85}}" stroke-width="4" activeColor="#00B578" backgroundColor="#e0e0e0"></progress></view></view><view class="data-card sleep"><view class="card-value"><text class="value-num">7.5</text><text class="value-unit">小时</text></view><view class="card-label"><image src="/static/images/sleep.png" mode="aspectFit"></image><text>昨晚睡眠</text></view><view class="card-progress"><progress percent="{{80}}" stroke-width="4" activeColor="#7B68EE" backgroundColor="#e0e0e0"></progress></view></view><view class="data-card weight"><view class="card-value"><text class="value-num">65</text><text class="value-unit">kg</text></view><view class="card-label"><image src="/static/images/weight.png" mode="aspectFit"></image><text>体重</text></view><view class="card-progress"><progress percent="{{60}}" stroke-width="4" activeColor="#FF9500" backgroundColor="#e0e0e0"></progress></view></view><view class="data-card heartrate"><view class="card-value"><text class="value-num">72</text><text class="value-unit">bpm</text></view><view class="card-label"><image src="/static/images/heart.png" mode="aspectFit"></image><text>平均心率</text></view><view class="card-progress"><progress percent="{{75}}" stroke-width="4" activeColor="#FF3B30" backgroundColor="#e0e0e0"></progress></view></view></view></view><view class="appointment-section"><view class="section-header"><text class="section-title">我的预约</text><view data-event-opts="{{[['tap',[['viewAllAppointments',['$event']]]]]}}" class="section-more" bindtap="__e"><text>查看全部</text><image src="/static/images/arrow-right.png" mode="aspectFit"></image></view></view><view class="appointment-cards"><block wx:for="{{appointments}}" wx:for-item="appointment" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['viewAppointmentDetail',['$0'],[[['appointments','',index]]]]]]]}}" class="appointment-card" bindtap="__e"><view class="{{['appointment-type',appointment.typeCls]}}"><image src="{{appointment.typeIcon}}" mode="aspectFit"></image></view><view class="appointment-info"><text class="appointment-title">{{appointment.title}}</text><text class="appointment-time">{{appointment.time}}</text></view><view class="{{['appointment-status',appointment.statusCls]}}"><text>{{appointment.status}}</text></view></view></block></view></view><view class="health-news"><view class="news-header"><text class="news-title">健康资讯</text><view data-event-opts="{{[['tap',[['viewAllNews',['$event']]]]]}}" class="news-more" bindtap="__e"><text>更多</text><image src="/static/images/arrow-right.png" mode="aspectFit"></image></view></view><view class="news-list"><block wx:for="{{healthNews}}" wx:for-item="news" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['readNews',['$0'],[[['healthNews','',index]]]]]]]}}" class="news-item" bindtap="__e"><image class="news-cover" src="{{news.cover}}" mode="aspectFill"></image><view class="news-content"><text class="news-headline">{{news.title}}</text><text class="news-desc">{{news.description}}</text><view class="news-meta"><text class="news-source">{{news.source}}</text><text class="news-date">{{news.date}}</text></view></view></view></block></view></view><block wx:if="{{showAppointmentDetail}}"><view class="appointment-detail-popup"><view data-event-opts="{{[['tap',[['hideAppointmentDetail',['$event']]]]]}}" class="popup-mask" bindtap="__e"></view><view class="popup-content"><view class="popup-header"><text class="popup-title">预约详情</text><view data-event-opts="{{[['tap',[['hideAppointmentDetail',['$event']]]]]}}" class="popup-close" bindtap="__e"><image src="/static/images/close.png" mode="aspectFit"></image></view></view><view class="popup-body"><view class="detail-item"><text class="detail-label">预约项目</text><text class="detail-value">{{currentAppointment.title}}</text></view><view class="detail-item"><text class="detail-label">预约时间</text><text class="detail-value">{{currentAppointment.time}}</text></view><view class="detail-item"><text class="detail-label">预约地点</text><text class="detail-value">{{currentAppointment.location}}</text></view><view class="detail-item"><text class="detail-label">医生/顾问</text><text class="detail-value">{{currentAppointment.doctor}}</text></view><view class="detail-item"><text class="detail-label">预约状态</text><text class="{{['detail-value',currentAppointment.statusCls]}}">{{currentAppointment.status}}</text></view><view class="detail-item"><text class="detail-label">备注</text><text class="detail-value">{{currentAppointment.notes||'无'}}</text></view><view class="action-buttons"><block wx:if="{{currentAppointment.status==='待就诊'}}"><button data-event-opts="{{[['tap',[['startAppointment',['$event']]]]]}}" class="action-btn primary" bindtap="__e"><text>开始就诊</text></button></block><block wx:if="{{currentAppointment.status==='待就诊'}}"><button data-event-opts="{{[['tap',[['rescheduleAppointment',['$event']]]]]}}" class="action-btn secondary" bindtap="__e"><text>改期</text></button></block><block wx:if="{{currentAppointment.status==='待就诊'}}"><button data-event-opts="{{[['tap',[['cancelAppointment',['$event']]]]]}}" class="action-btn cancel" bindtap="__e"><text>取消</text></button></block></view></view></view></view></block></view>